<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>GifTastic</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="./javascript.js"></script>
</head>

<body onload="setup();">
    <div id="buttonsDiv">tt</div>

    <div id="gifs-appear-here"></div>



<!-- 
<script>
$("#buttonDiv").on("click", function() {
    var person = $(this).attr("data-person");
    var queryURL = "https://api.giphy.com/v1/gifs/search?q=" +
      person + "&api_key=AzZ29qUdXJ4MDmPGaD39CQ9EQhkPMTi7&limit=10";
    $.ajax({
      url: queryURL,
      method: "GET"
    })
    .then(function(response) {
        var results = response.data;
        for (var i = 0; i < results.length; i++) {
            var gifImageURL = response.data[i].images.original.url;
            console.log(gifImageURL);
            $("#gifs-appear-here").prepend("<img src='"+ gifImageURL + "' width=200>");
        }
    }
    )
}
);

</script> -->

<script>
var categArray=["cat", "dog", "bird", "turtle", "fish", "rabbit"];
var theCategory = "";
//create buttons wiht onclick functionality that calls populateGifs

function setup(){
    for(i=0;i<categArray.length;i++){
        createButtons(categArray[i]);
    };


    // $("buttonDiv").on("click", function() {
    //     var person = $(this).attr("data-person");
    //     var queryURL = "https://api.giphy.com/v1/gifs/search?q=" +
    //       person + "&api_key=AzZ29qUdXJ4MDmPGaD39CQ9EQhkPMTi7&limit=10";
    //     $.ajax({
    //       url: queryURL,
    //       method: "GET"
    //     })
    //     .then(function(response) {
    //         var results = response.data;
    //         for (var i = 0; i < results.length; i++) {
    //             var gifImageURL = response.data[i].images.original.url;
    //             console.log(gifImageURL);
    //             $("#gifs-appear-here").prepend("<img src='"+ gifImageURL + "' width=200>");
    //         }
    //     }
    //     )
    // }
    // );

};


function createButtons(theCategory){
    var theCategory = categArray[i];
    var theButton = "<button onclick='populateGifs(theCategory);'>" + theCategory + "</button>";
    console.log(categArray[i]);
    $('#buttonsDiv').append(theButton);
};


//create function that populates gifs of category with array info (rating)

function populateGifs(theCategory){
    // var theCategory = categArray[i];
    // $('#gifs-appear-here').append()

        var person = $(this).attr("data-person");
        var queryURL = "https://api.giphy.com/v1/gifs/search?q=" +
          theCategory + "&api_key=AzZ29qUdXJ4MDmPGaD39CQ9EQhkPMTi7&limit=10";
        $.ajax({
          url: queryURL,
          method: "GET"
        })
        .then(function(response) {
            var results = response.data;
            for (var i = 0; i < results.length; i++) {
                var gifImageURL = response.data[i].images.original.url;
                console.log(gifImageURL);
                $("#gifs-appear-here").prepend("<img src='"+ gifImageURL + "' width=200>");
            }
        }
        )
    }

;

</script>
</body>
</html>